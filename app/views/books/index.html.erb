<div data-controller="live-search">
  <%= render partial: "search_form" %>

  <div class="grid grid-cols-1 md:grid-cols-5" data-target="live-search.results">
    <% @books.each do |book| %>
      <div class="flex justify-center my-5 w-auto">
        <div class="lg:flex flex-1">
          <div class="lg:m-2 shadow-md hover:shadow-lg hover:bg-gray-100 rounded-lg bg-gray-50 md:my-5 ">
            <%= image_tag book.image, alt: "", class: "overflow-hidden"%>
            <div class="p-4">
              <div class="leading-relaxed">
                <h3 class="font-medium text-gray-600 text-base my-2 uppercase"><%=book.title%></h3>
                <h5 class="font-medium text-gray-600 text-sm my-2"><%=book.author%></h5>
                <p class="text-justify "><%=book.description.truncate(50)%></p>
              </div>
              
              <footer class="border-t">
                <%= link_to 'Mostrar mais', book, class:"hover:text-purple-600 py-2 px-3 font-semibold hover:text-indigo-600 text-indigo-600" %>
                <% if user_signed_in? %>
                  <%= link_to 'Editar', edit_book_path(book), class:"hover:text-purple-600 py-2 px-3 font-semibold hover:text-indigo-600 text-indigo-600" %>
                  <%= link_to 'Deletar', book, method: :delete, data: { confirm: 'VocÃª tem certeza?' }, class:"hover:text-purple-600 py-2 px-3 font-semibold hover:text-indigo-600 text-indigo-600" %>
                <% end %>
              </footer>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>

<%if params[:"book_search"].present?%>
<%= link_to "Back", '/', class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"%>
<%end%>